(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},e.apply(this,arguments)}const i=window.wp.element,t=window.wp.components,o=window.wp.editPost,s=window.wp.plugins,n=window.wp.data,l=window.wp.i18n;function a(t){let{instanceId:o,value:s,label:n,info:l,...a}=t;return(0,i.createElement)("div",{className:"editor-post-visibility__choice"},(0,i.createElement)("input",e({type:"radio",name:`editor-post-visibility__setting-${o}`,value:s,id:`editor-post-${s}-${o}`,"aria-describedby":`editor-post-${s}-${o}-description`,className:"editor-post-visibility__radio"},a)),(0,i.createElement)("label",{htmlFor:`editor-post-${s}-${o}`,className:"editor-post-visibility__label"},n),(0,i.createElement)("p",{id:`editor-post-${s}-${o}-description`,className:"editor-post-visibility__info"},l))}(0,s.registerPlugin)("post-sharing-options",{render:e=>{let{}=e;const{blogPublic:s}=openlabBlocksPostVisibility,{editPost:r}=(0,n.useDispatch)("core/editor"),c=parseInt(s),{postVisibility:p}=(0,n.useSelect)((e=>{const i=e("core/editor").getEditedPostAttribute("meta"),t=c>=0?"default":"members-only";return{postVisibility:i.openlab_post_visibility||t}}));if(c<-1)return null;const b=[{value:"group-members-only",label:(0,l.__)("Site Members","commons-in-a-box"),info:(0,l.__)("Only members of the current site can see this post. This will override the Public visibility setting above.","commons-in-a-box")},{value:"members-only",label:(0,l.__)("Logged-in users only","commons-in-a-box"),info:(0,l.__)("Only logged-in users can see this post. This will override the Public visibility setting above.","commons-in-a-box")}];return c>=0&&b.push({value:"default",label:(0,l.__)("Everyone","commons-in-a-box"),info:(0,l.__)("Everyone who can view this site can see this post.","commons-in-a-box")}),(0,i.createElement)(o.PluginDocumentSettingPanel,{name:"post-sharing-options",title:(0,l.__)("More visibility options","commons-in-a-box"),className:"post-sharing-options"},(0,i.createElement)("fieldset",{className:"editor-post-visibility__fieldset"},(0,i.createElement)(t.VisuallyHidden,{as:"legend"},(0,l.__)("Sharing","commons-in-a-box")),(0,i.createElement)("p",null,(0,l.__)("Control who can see this post.","commons-in-a-box")),b.map((e=>(0,i.createElement)(a,{key:e.value,instanceId:"post-sharing-options",value:e.value,label:e.label,info:e.info,onChange:e=>{return i=e.target.value,void r({meta:{openlab_post_visibility:i}});var i},checked:p===e.value})))))}})})();