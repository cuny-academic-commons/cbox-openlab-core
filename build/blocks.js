(()=>{"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var i=1;i<arguments.length;i++){var t=arguments[i];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},e.apply(this,arguments)}const i=window.wp.element,t=window.wp.components,o=window.wp.editPost,s=window.wp.plugins,n=window.wp.data,a=window.wp.i18n;function l(t){let{instanceId:o,value:s,label:n,info:a,...l}=t;return(0,i.createElement)("div",{className:"editor-post-visibility__choice"},(0,i.createElement)("input",e({type:"radio",name:`editor-post-visibility__setting-${o}`,value:s,id:`editor-post-${s}-${o}`,"aria-describedby":`editor-post-${s}-${o}-description`,className:"editor-post-visibility__radio"},l)),(0,i.createElement)("label",{htmlFor:`editor-post-${s}-${o}`,className:"editor-post-visibility__label"},n),(0,i.createElement)("p",{id:`editor-post-${s}-${o}-description`,className:"editor-post-visibility__info"},a))}(0,s.registerPlugin)("post-sharing-options",{render:e=>{let{}=e;const{siteIsPublic:s}=openlabBlocksPostVisibility,{editPost:r}=(0,n.useDispatch)("core/editor"),{postVisibility:c}=(0,n.useSelect)((e=>({postVisibility:e("core/editor").getEditedPostAttribute("meta").openlab_post_visibility||"default"})));if(!s)return null;const p=e=>{r({meta:{openlab_post_visibility:e}})},m=(0,a.__)("This will override the Public visibility setting above.","commons-in-a-box"),d=(0,a.sprintf)(/* translators: %s: string of text that explains that this setting will override the public visibility setting */
(0,a.__)("Only site members can see this post. %s","commons-in-a-box"),m),b=(0,a.sprintf)(/* translators: %s: string of text that explains that this setting will override the public visibility setting */
(0,a.__)("Only logged-in users can see this post. %s","commons-in-a-box"),m);return(0,i.createElement)(o.PluginDocumentSettingPanel,{name:"post-sharing-options",title:(0,a.__)("More visibility options","commons-in-a-box"),className:"post-sharing-options"},(0,i.createElement)("fieldset",{className:"editor-post-visibility__fieldset"},(0,i.createElement)(t.VisuallyHidden,{as:"legend"},(0,a.__)("Sharing","commons-in-a-box")),(0,i.createElement)("p",null,(0,a.__)("Control who can see this post.","commons-in-a-box")),(0,i.createElement)(l,{instanceId:"post-sharing-options",value:"group-members-only",label:(0,a.__)("Site Members","commons-in-a-box"),info:d,onChange:e=>p(e.target.value),checked:"group-members-only"===c}),(0,i.createElement)(l,{instanceId:"post-sharing-options",value:"members-only",label:(0,a.__)("Logged-in users only","commons-in-a-box"),info:b,onChange:e=>p(e.target.value),checked:"members-only"===c}),(0,i.createElement)(l,{instanceId:"post-sharing-options",value:"default",label:(0,a.__)("Everyone","commons-in-a-box"),info:(0,a.__)("Everyone who can view this site can see this post.","commons-in-a-box"),onChange:e=>p(e.target.value),checked:"default"===c})))}})})();